var y=Object.defineProperty;var S=(t,e,r)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var m=(t,e,r)=>(S(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();class L{constructor(){m(this,"cache");const e=localStorage.getItem("userCache")??null;if(this.cache=new Map,e===null)return;const r=JSON.parse(e),c=Object.entries(r);for(const o of c)this.cache.set(o[0],o[1])}updateLocalStorage(){const e=JSON.stringify(Object.fromEntries(this.cache));localStorage.setItem("userCache",e)}getValue(e){return this.cache.get(e)}setValue(e,r){this.cache.set(e,r),this.updateLocalStorage()}saveToLocalStorage(){this.updateLocalStorage()}}const p=new L,g=document.querySelector('input[name="github-name"]'),w=document.querySelector('button[type="submit"]');w.addEventListener("click",async t=>{t.preventDefault();let e=p.getValue(g.value);if(e===void 0&&(e=await b(g.value)),e===null)throw new Error("User not found.");e.login!==void 0&&p.setValue(e==null?void 0:e.login,e),v(e),document.querySelector("section#cardContainer").classList.replace("opacity-0","opacity-100")});async function b(t){if(!t)throw new Error("Please provide an existing GitHub username.");try{const e=`https://api.github.com/users/${t}`;return(await fetch(e,{referrer:"no-referrer",method:"GET"})).json()}catch(e){return console.log(e),null}}function v(t){var u,f,h;const e=document.querySelector("img#cardImg"),r=document.querySelector("a#cardUserName"),c=document.querySelector("q#cardUserBio"),o=document.querySelector("p#cardUserLocation"),n=document.querySelector("p#cardFollowers"),i=n.firstElementChild,s=document.querySelector("p#cardFollowing"),a=s.firstElementChild,l=document.querySelector("p#cardRepositories"),d=l.firstElementChild;e.src=t.avatar_url??null,e.alt=`Profile photo of ${t.login}`,r.innerText=`${t.name} (${t.login})`,r.href=t.html_url,c.innerText=t.bio??"",c.cite=t.name,o.innerHTML=`from <span class="text-neutral-100">${t.location}</span>`,i.innerText=((u=t.followers)==null?void 0:u.toString())??"0",i.href=t.followers_url,a.innerText=((f=t.following)==null?void 0:f.toString())??"0",a.href=t.following_url,d.innerText=((h=t.public_repos)==null?void 0:h.toString())??"0",d.href=t.repos_url,n.classList.remove("hidden"),s.classList.remove("hidden"),l.classList.remove("hidden"),t.bio===null?c.classList.add("hidden"):c.classList.remove("hidden")}

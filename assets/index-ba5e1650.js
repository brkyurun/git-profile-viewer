var y=Object.defineProperty;var S=(t,e,o)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var m=(t,e,o)=>(S(t,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();class L{constructor(){m(this,"cache");const e=localStorage.getItem("userCache")??null;if(this.cache=new Map,e===null)return;const o=JSON.parse(e),c=Object.entries(o);for(const r of c)this.cache.set(r[0],r[1])}updateLocalStorage(){const e=JSON.stringify(Object.fromEntries(this.cache));localStorage.setItem("userCache",e)}getValue(e){return this.cache.get(e)}setValue(e,o){this.cache.set(e,o),this.updateLocalStorage()}saveToLocalStorage(){this.updateLocalStorage()}}const p=new L,g=document.querySelector('input[name="github-name"]'),w=document.querySelector('button[type="submit"]');w.addEventListener("click",async t=>{t.preventDefault();let e=p.getValue(g.value);if(e===void 0&&(e=await b(g.value),p.setValue(e==null?void 0:e.login,e)),e===null)throw new Error("User not found.");v(e),document.querySelector("section#cardContainer").classList.replace("opacity-0","opacity-100")});async function b(t){if(!t)throw new Error("Please provide an existing GitHub username.");try{const e=`https://api.github.com/users/${t}`;return(await fetch(e,{referrer:"no-referrer",method:"GET"})).json()}catch(e){return console.log(e),null}}function v(t){var u,f,h;const e=document.querySelector("img#cardImg"),o=document.querySelector("a#cardUserName"),c=document.querySelector("q#cardUserBio"),r=document.querySelector("p#cardUserLocation"),n=document.querySelector("p#cardFollowers"),s=n.firstElementChild,i=document.querySelector("p#cardFollowing"),a=i.firstElementChild,l=document.querySelector("p#cardRepositories"),d=l.firstElementChild;e.src=t.avatar_url??null,e.alt=`Profile photo of ${t.login}`,o.innerText=`${t.name} (${t.login})`,o.href=t.html_url,c.innerText=t.bio??"",c.cite=t.name,r.innerHTML=`from <span class="text-neutral-100">${t.location}</span>`,s.innerText=((u=t.followers)==null?void 0:u.toString())??"0",s.href=t.followers_url,a.innerText=((f=t.following)==null?void 0:f.toString())??"0",a.href=t.following_url,d.innerText=((h=t.public_repos)==null?void 0:h.toString())??"0",d.href=t.repos_url,n.classList.remove("hidden"),i.classList.remove("hidden"),l.classList.remove("hidden"),t.bio===null?c.classList.add("hidden"):c.classList.remove("hidden")}
